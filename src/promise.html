<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Promise</title>
  </head>
  <body>
    <script>
      // resolve
      // reject
      // all
      // race

      let promise = new Promise((resolve, reject) => {
        resolve("成功");
      });
      promise
        .then((res) => {
          console.log("success!" + res);
        })
        .catch((err) => {
          console.log("fail!");
        });
      function promise1(status) {
        return new Promise((resolve, reject) => {
          status ? resolve("第一个promise成功") : reject("第一个promise失败");
        });
      }
      function promise2(status) {
        return new Promise((resolve, reject) => {
          status ? resolve("第二个promise成功") : reject("第二个promise失败");
        });
      }
      function promise3(status) {
        return new Promise((resolve, reject) => {
          status ? resolve("第三个promise成功") : reject("第三个promise失败");
        });
      }
      //   promise1(true)
      //     .then((res) => {
      //       console.log(res);
      //       return promise2(true);
      //     })
      //     .then((res) => {
      //       console.log(res);
      //       return promise3(true);
      //     })
      //     .then((res) => {
      //       console.log(res);
      //     })
      //     .catch((err) => {
      //       console.log(err);
      //     });
      Promise.all([promise1(true), promise2(true)])
        .then((res) => {
          console.log("全部调用成功");
        })
        .catch((err) => {
          console.log("有些可能失败了");
        });
      Promise.race([promise1(false), promise2(true), promise3(false)])
        .then((res) => {
          console.log("全部调用成功");
        })
        .catch((err) => {
          console.log("有些可能失败了");
        });
    </script>
  </body>
</html>
